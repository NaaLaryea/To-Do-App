<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset= "UTF-8">
        <meta name= "viewport" content= "width= device-width, initial-scale =1">
        <title>To-Do List</title>
        {% load static %}
        <link rel= "stylesheet" href= "{% static 'css/dashboard.css' %}">
        <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Barlow+Condensed&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" crossorigin="anonymous" />
    </head>
    <body id="body">
        <div class="task-form">
            
            <p>Welcome {{user}}</p>

            <navbar>
                <ul class= "nav-list">
                    <li class="nav-item">
                        <button id="addBtn">
                            <i class="fas fa-plus"></i>
                        </button>
                    </li>
                    <li class="nav-item">
                        <input type="text" class="tbox" placeholder="Search..."/>
                        <button class="searchBtn">
                            <i class="fas fa-search"></i>
                        </button>
                    </li>
                    <li class="nav-item">
                        <button class="logOut">Log Out</button>
                    </li>
                </ul>
            </navbar>

            <div class="item-list">
                <h2>Task List</h2>
                <div class="task-list-form">
                    <table>
                        <thead>
                            <th>Task name</th>
                            <th>task description</th>
                            <th>Status</th>
                            <th>Priority</th>
                            <th>Due date</th>
                            <th>Date created</th>
                        </thead>
                        <tbody>
                            {% for todo in user_todos  %}
                            <tr> 
                                <td>{{ todo.task_name }}</td>
                                <td>{{ todo.task_desc }}</td>
                                <td>{{ todo.status }}</td>
                                <td>{{ todo.priority }}</td>
                                <td>{{ todo.due_date }}</td>
                                <td>{{ todo.date_created }}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="bg-modal">
                <div class="modal-contents">
                    <div class="close">+</div>
                        <form action="">
                            <label >Task Name</label>
                            <input type="text" class="input-field" placeholder="">
                            <label>Task description</label>
                            <input type="text" class="input-field" placeholder="">
                            <label>Status</label>
                            <input type="checkbox" class="input-field" id="status1" name="in-progress" value="In progress">
                            <label for="in-progress"> In progress</label>
                            <input type="checkbox" class="input-field" id="status2" name="completed" value="Completed">
                            <label for="completed"> Completed</label>
                            <label>Priority (between 1 and 3)</label>
                            <input type="number" class="input-field" id="quantity" name="quantity" min="1" max="3">
                            <label>Due date</label>
                            <input type="datetime-local" class="input-field" id="birthdaytime" name="birthdaytime">
                            <input type="submit">
                            <label>Date created</label>
                            <a href="#" class="button">Add Task</a>

                        </form>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>

<script>
    document.getElementById('addBtn').addEventListener("click", function() {
	document.querySelector('.bg-modal').style.display = "flex";
});

document.querySelector('.close').addEventListener("click", function() {
	document.querySelector('.bg-modal').style.display = "none";
});
</script>